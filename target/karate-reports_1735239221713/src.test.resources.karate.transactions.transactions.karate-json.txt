{"failedCount":0,"prefixedPath":"src\/test\/resources\/karate\/transactions\/transactions.feature","packageQualifiedName":"src.test.resources.karate.transactions.transactions","loopIndex":-1,"relativePath":"src\/test\/resources\/karate\/transactions\/transactions.feature","scenarioResults":[{"sectionIndex":1,"stepResults":[{"result":{"nanos":951500,"millis":0.9515,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url api.urlBase"}},{"result":{"nanos":58596100,"millis":58.5961,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def keys = read('classpath:karate\/common\/keys.json')"}},{"result":{"nanos":1447200,"millis":1.4472,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def bodyRequest = read('classpath:karate\/transactions\/data\/transactions_body.json')"}},{"result":{"nanos":2260600,"millis":2.2606,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def paymentMethod = read('classpath:karate\/transactions\/data\/payment_method.json')"}},{"result":{"nanos":1286500,"millis":1.2865,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def customerData = read('classpath:karate\/transactions\/data\/customer_data.json')"}},{"result":{"nanos":538000,"millis":0.538,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def publicKey = keys.public_key"}},{"result":{"nanos":405200,"millis":0.4052,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"def integrityKey = keys.integrity_key"}},{"result":{"nanos":380900,"millis":0.3809,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"def authToken = 'Bearer ' + publicKey"}},{"result":{"nanos":376200,"millis":0.3762,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"def transactionPath = path.transaction"}},{"result":{"nanos":729124000,"millis":729.124,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def tokens = call read('classpath:karate\/merchants\/merchants.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:karate\/merchants\/merchants.feature","packageQualifiedName":"karate.merchants.merchants","loopIndex":-1,"relativePath":"karate\/merchants\/merchants.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":530000,"millis":0.53,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url api.urlBase"}},{"result":{"nanos":1168600,"millis":1.1686,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def keys = read('classpath:karate\/common\/keys.json')"},"stepLog":"13:51:19.834 over-writing existing variable 'keys' with new value: read('classpath:karate\/common\/keys.json')\n"},{"result":{"nanos":472600,"millis":0.4726,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def publicKey = keys.public_key"},"stepLog":"13:51:19.836 over-writing existing variable 'publicKey' with new value: keys.public_key\n"},{"result":{"nanos":567800,"millis":0.5678,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def merchantsPath = path.merchants"}},{"result":{"nanos":8968500,"millis":8.9685,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path merchantsPath, publicKey"}},{"result":{"nanos":692366400,"millis":692.3664,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"13:51:19.948 request:\n1 > GET https:\/\/api-sandbox.co.uat.wompi.dev\/v1\/merchants\/pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\n1 > Host: api-sandbox.co.uat.wompi.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.19)\n1 > Accept-Encoding: gzip,deflate\n\n\n13:51:20.537 response time in milliseconds: 582\n1 < 200\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Date: Thu, 26 Dec 2024 18:51:21 GMT\n1 < apigw-requestid: DabSkhCrIAMEJCA=\n1 < vary: Origin\n1 < vary: accept-encoding\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 177fd0f8c3e2c78883d72714aa07183a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MIA3-C3\n1 < X-Amz-Cf-Id: S1ehVQocUv9QDemSBfqQ9LU_lKJiDs8mOOZOVwWiSZDa9aYh8AYl9g==\n{\"data\":{\"public_key\":\"pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\",\"legal_id\":\"1069879849\",\"contact_name\":\"Alejandra Pruebas Sandbox UAT\",\"logo_url\":null,\"active\":true,\"accepted_payment_methods\":[\"NEQUI\",\"PSE\",\"BANCOLOMBIA_TRANSFER\",\"CARD\",\"BANCOLOMBIA_COLLECT\",\"BANCOLOMBIA_QR\",\"DAVIPLATA\",\"BANCOLOMBIA_BNPL\",\"SU_PLUS\"],\"fraud_javascript_key\":null,\"payment_methods\":[{\"name\":\"BANCOLOMBIA_BNPL\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_BNPL_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_COLLECT\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_COLLECT_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_QR\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_QR_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_TRANSFER\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_TRANSFER_SANDBOX\"}]},{\"name\":\"CARD\",\"payment_processors\":[{\"name\":\"CARD_SANDBOX\"}]},{\"name\":\"DAVIPLATA\",\"payment_processors\":[{\"name\":\"DAVIPLATA_SANDBOX\"}]},{\"name\":\"NEQUI\",\"payment_processors\":[{\"name\":\"NEQUI_SANDBOX\"}]},{\"name\":\"PSE\",\"payment_processors\":[{\"name\":\"PSE_SANDBOX\"}]},{\"name\":\"SU_PLUS\",\"payment_processors\":[{\"name\":\"SU_PLUS_SANDBOX\"}]}],\"fraud_groups\":[],\"name\":\"Alejandra Pruebas Sandbox UAT\",\"phone_number\":\"+573000000000\",\"id\":5113,\"legal_name\":\"Alejandra Pruebas Sandbox UAT\",\"presigned_personal_data_auth\":{\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6Mzc1LCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvYXV0b3JpemFjaW9uLWFkbWluaXN0cmFjaW9uLWRhdG9zLXBlcnNvbmFsZXMucGRmIiwiZmlsZV9oYXNoIjoiOTVkYzcwN2M0M2UxYmViMDAwMDUyZDNkNWJhZThhMDAiLCJqaXQiOiIxNzM1MjM5MDgxLTc3NTEyIiwiZW1haWwiOiIifQ.9rcHXQO0kMhOvTXLk90tCCvQ7aQUvxhqYeBrZ5qp8zI\",\"permalink\":\"https:\\\/\\\/wompi.com\\\/assets\\\/downloadble\\\/autorizacion-administracion-datos-personales.pdf\",\"type\":\"PERSONAL_DATA_AUTH\"},\"presigned_acceptance\":{\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6MjQzLCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvcmVnbGFtZW50by1Vc3Vhcmlvcy1Db2xvbWJpYS5wZGYiLCJmaWxlX2hhc2giOiJkMWVkMDI3NjhlNDEzZWEyMzFmNzAwMjc0N2Y0N2FhOSIsImppdCI6IjE3MzUyMzkwODEtMjAxMjgiLCJlbWFpbCI6IiIsImV4cCI6MTczNTI0MjY4MX0.QKvpr2Zd0icbRmc5DiPOeO_Vr0dI_TK9R139Pq648DY\",\"permalink\":\"https:\\\/\\\/wompi.com\\\/assets\\\/downloadble\\\/reglamento-Usuarios-Colombia.pdf\",\"type\":\"END_USER_POLICY\"},\"email\":\"pruebasensandbox@yopmail.com\",\"accepted_currencies\":[\"COP\"],\"legal_id_type\":\"CC\"},\"meta\":{}}\n"},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":9531600,"millis":9.5316,"status":"passed"},"step":{"line":14,"prefix":"And","index":3,"text":"match response.data.presigned_acceptance.acceptance_token == '#string'"}},{"result":{"nanos":324700,"millis":0.3247,"status":"passed"},"step":{"line":15,"prefix":"And","index":4,"text":"match response.data.presigned_personal_data_auth.acceptance_token == '#string'"}}],"executorName":"main","line":10,"name":"Obtener tokens","description":"","durationMillis":713.9524,"startTime":1735239079833,"failed":false,"refId":"[1:10]","endTime":1735239080548,"exampleIndex":-1}],"callDepth":1,"name":"Obtener los tokens de aceptación","description":"","resultDate":"2024-12-26 01:51:22 p. m.","durationMillis":713.9524,"passedCount":1}]},{"result":{"nanos":6368200,"millis":6.3682,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def createSignature = Java.type('karate.utils.Generate')"}},{"result":{"nanos":1927300,"millis":1.9273,"status":"passed"},"step":{"line":45,"prefix":"*","index":0,"text":"def reference = createSignature.generarCodigo()"}},{"result":{"nanos":18396700,"millis":18.3967,"status":"passed"},"step":{"line":46,"prefix":"*","index":1,"text":"def signature = createSignature.generateSHA256Hash(reference,150000,'COP',integrityKey)"}},{"result":{"nanos":1542000,"millis":1.542,"status":"passed"},"step":{"line":47,"prefix":"*","index":2,"text":"set bodyRequest.amount_in_cents = 150000"}},{"result":{"nanos":769100,"millis":0.7691,"status":"passed"},"step":{"line":48,"prefix":"*","index":3,"text":"set bodyRequest.currency = 'COP'"}},{"result":{"nanos":156300,"millis":0.1563,"status":"passed"},"step":{"line":49,"prefix":"*","index":4,"text":"set bodyRequest.reference = reference"}},{"result":{"nanos":145100,"millis":0.1451,"status":"passed"},"step":{"line":50,"prefix":"*","index":5,"text":"set bodyRequest.signature = signature"}},{"result":{"nanos":1156200,"millis":1.1562,"status":"passed"},"step":{"line":51,"prefix":"*","index":6,"text":"set bodyRequest.customer_data = customerData.customer_data"}},{"result":{"nanos":669800,"millis":0.6698,"status":"passed"},"step":{"line":52,"prefix":"*","index":7,"text":"set bodyRequest.payment_method = paymentMethod.BANCOLOMBIA_QR"}},{"result":{"nanos":746400,"millis":0.7464,"status":"passed"},"step":{"line":53,"prefix":"Given","index":8,"text":"path transactionPath"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":54,"prefix":"And","index":9,"text":"header Authorization = authToken"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":55,"prefix":"And","index":10,"text":"request bodyRequest"}},{"result":{"nanos":701486100,"millis":701.4861,"status":"passed"},"step":{"line":56,"prefix":"When","index":11,"text":"method POST"},"stepLog":"13:51:20.640 request:\n1 > POST https:\/\/api-sandbox.co.uat.wompi.dev\/v1\/transactions\n1 > Authorization: Bearer pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1163\n1 > Host: api-sandbox.co.uat.wompi.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.19)\n1 > Accept-Encoding: gzip,deflate\n{\"reference\":\"sk8-buXh-aLQz-ouLT\",\"amount_in_cents\":150000,\"signature\":\"5bf20d615e3644bae530a11ca134fa3dee8402a0ae57e49fdb3ee050c1b52d1f\",\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6MjQzLCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvcmVnbGFtZW50by1Vc3Vhcmlvcy1Db2xvbWJpYS5wZGYiLCJmaWxlX2hhc2giOiJkMWVkMDI3NjhlNDEzZWEyMzFmNzAwMjc0N2Y0N2FhOSIsImppdCI6IjE3MzUxNjA1MjktNjYzMzgiLCJlbWFpbCI6IiIsImV4cCI6MTczNTE2NDEyOX0.TJACdrIMVUBzXX85sodEWtTWiTvKwVz4tF4SaxeRIHI\",\"customer_email\":\"example@wompi.co\",\"customer_data\":{\"legal_id\":\"1234567890\",\"full_name\":\"Juan Alfonso Pérez Rodríguez\",\"phone_number\":\"573307654321\",\"legal_id_type\":\"CC\"},\"currency\":\"COP\",\"accept_personal_auth\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6Mzc1LCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvYXV0b3JpemFjaW9uLWFkbWluaXN0cmFjaW9uLWRhdG9zLXBlcnNvbmFsZXMucGRmIiwiZmlsZV9oYXNoIjoiOTVkYzcwN2M0M2UxYmViMDAwMDUyZDNkNWJhZThhMDAiLCJqaXQiOiIxNzM1MTYwNTI5LTMyNjIyIiwiZW1haWwiOiIifQ.QjtNF_4v7CzQebL7PaSRKd5IXJM51KIDwcjev_93V1k\",\"payment_method\":{\"payment_description\":\"Pago a Tienda Wompi\",\"type\":\"BANCOLOMBIA_QR\",\"sandbox_status\":\"APPROVED\"}}\n\n13:51:21.284 response time in milliseconds: 643\n1 < 422\n1 < Content-Type: application\/json\n1 < Content-Length: 116\n1 < Connection: keep-alive\n1 < Date: Thu, 26 Dec 2024 18:51:22 GMT\n1 < vary: Origin\n1 < apigw-requestid: DabSpidMIAMEc1g=\n1 < X-Cache: Error from cloudfront\n1 < Via: 1.1 bf2c13a8bbf56a642a68324584cae69a.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MIA3-C3\n1 < X-Amz-Cf-Id: 0BTNh8FZLCFWvjRtcxwNJBeyJREN1fGUPzowlJL80QrYY8FO7Pw3xA==\n{\"error\":{\"messages\":{\"acceptance_token\":[\"El token de aceptación ya fue usado\"]},\"type\":\"INPUT_VALIDATION_ERROR\"}}\n"},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":57,"prefix":"Then","index":12,"text":"status 422"}},{"result":{"nanos":508400,"millis":0.5084,"status":"passed"},"step":{"line":58,"prefix":"And","index":13,"text":"match response.error.type == 'INPUT_VALIDATION_ERROR'"}},{"result":{"nanos":1214200,"millis":1.2142,"status":"passed"},"step":{"line":59,"prefix":"And","index":14,"text":"match response.error.messages.acceptance_token[0] == 'El token de aceptación ya fue usado'"}}],"line":62,"description":"","durationMillis":1530.5321,"failed":false,"tags":["FailedTransaction"],"executorName":"main","name":"Transaccion fallida por 'El token de aceptación ya fue usado'","startTime":1735239077668,"refId":"[2.1:62]","endTime":1735239081286,"exampleData":{"amount":"150000","currency":"'COP'","reference":"reference","integrity":"integrityKey","paymentMethod":"BANCOLOMBIA_QR","typeError":"'INPUT_VALIDATION_ERROR'","messagesError":"acceptance_token","description":"'El token de aceptación ya fue usado'"},"exampleIndex":0},{"sectionIndex":2,"stepResults":[{"result":{"nanos":224600,"millis":0.2246,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url api.urlBase"}},{"result":{"nanos":1946800,"millis":1.9468,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def keys = read('classpath:karate\/common\/keys.json')"}},{"result":{"nanos":763300,"millis":0.7633,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def bodyRequest = read('classpath:karate\/transactions\/data\/transactions_body.json')"}},{"result":{"nanos":606600,"millis":0.6066,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def paymentMethod = read('classpath:karate\/transactions\/data\/payment_method.json')"}},{"result":{"nanos":669300,"millis":0.6693,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def customerData = read('classpath:karate\/transactions\/data\/customer_data.json')"}},{"result":{"nanos":217500,"millis":0.2175,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def publicKey = keys.public_key"}},{"result":{"nanos":155700,"millis":0.1557,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"def integrityKey = keys.integrity_key"}},{"result":{"nanos":169200,"millis":0.1692,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"def authToken = 'Bearer ' + publicKey"}},{"result":{"nanos":165000,"millis":0.165,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"def transactionPath = path.transaction"}},{"result":{"nanos":549366000,"millis":549.366,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def tokens = call read('classpath:karate\/merchants\/merchants.feature')"},"callResults":[{"failedCount":0,"prefixedPath":"classpath:karate\/merchants\/merchants.feature","packageQualifiedName":"karate.merchants.merchants","loopIndex":-1,"relativePath":"karate\/merchants\/merchants.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":182400,"millis":0.1824,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url api.urlBase"}},{"result":{"nanos":959200,"millis":0.9592,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def keys = read('classpath:karate\/common\/keys.json')"},"stepLog":"13:51:21.307 over-writing existing variable 'keys' with new value: read('classpath:karate\/common\/keys.json')\n"},{"result":{"nanos":416200,"millis":0.4162,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def publicKey = keys.public_key"},"stepLog":"13:51:21.308 over-writing existing variable 'publicKey' with new value: keys.public_key\n"},{"result":{"nanos":185400,"millis":0.1854,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def merchantsPath = path.merchants"}},{"result":{"nanos":196100,"millis":0.1961,"status":"passed"},"step":{"line":11,"prefix":"Given","index":0,"text":"path merchantsPath, publicKey"}},{"result":{"nanos":540726500,"millis":540.7265,"status":"passed"},"step":{"line":12,"prefix":"When","index":1,"text":"method GET"},"stepLog":"13:51:21.310 request:\n1 > GET https:\/\/api-sandbox.co.uat.wompi.dev\/v1\/merchants\/pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\n1 > Host: api-sandbox.co.uat.wompi.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.19)\n1 > Accept-Encoding: gzip,deflate\n\n\n13:51:21.849 response time in milliseconds: 538\n1 < 200\n1 < Content-Type: application\/json\n1 < Transfer-Encoding: chunked\n1 < Connection: keep-alive\n1 < Date: Thu, 26 Dec 2024 18:51:23 GMT\n1 < apigw-requestid: DabSxjG-oAMEZJg=\n1 < vary: Origin\n1 < vary: accept-encoding\n1 < X-Cache: Miss from cloudfront\n1 < Via: 1.1 9abd3232e1a3776dc26ad56d2477147c.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MIA3-C3\n1 < X-Amz-Cf-Id: ubA-mbKT70D0NsKdKjpy-3W2OoNPEqEkXBJigpwOnNOegCl6V2r5zA==\n{\"data\":{\"public_key\":\"pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\",\"legal_id\":\"1069879849\",\"contact_name\":\"Alejandra Pruebas Sandbox UAT\",\"logo_url\":null,\"active\":true,\"accepted_payment_methods\":[\"NEQUI\",\"PSE\",\"BANCOLOMBIA_TRANSFER\",\"CARD\",\"BANCOLOMBIA_COLLECT\",\"BANCOLOMBIA_QR\",\"DAVIPLATA\",\"BANCOLOMBIA_BNPL\",\"SU_PLUS\"],\"fraud_javascript_key\":null,\"payment_methods\":[{\"name\":\"BANCOLOMBIA_BNPL\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_BNPL_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_COLLECT\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_COLLECT_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_QR\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_QR_SANDBOX\"}]},{\"name\":\"BANCOLOMBIA_TRANSFER\",\"payment_processors\":[{\"name\":\"BANCOLOMBIA_TRANSFER_SANDBOX\"}]},{\"name\":\"CARD\",\"payment_processors\":[{\"name\":\"CARD_SANDBOX\"}]},{\"name\":\"DAVIPLATA\",\"payment_processors\":[{\"name\":\"DAVIPLATA_SANDBOX\"}]},{\"name\":\"NEQUI\",\"payment_processors\":[{\"name\":\"NEQUI_SANDBOX\"}]},{\"name\":\"PSE\",\"payment_processors\":[{\"name\":\"PSE_SANDBOX\"}]},{\"name\":\"SU_PLUS\",\"payment_processors\":[{\"name\":\"SU_PLUS_SANDBOX\"}]}],\"fraud_groups\":[],\"name\":\"Alejandra Pruebas Sandbox UAT\",\"phone_number\":\"+573000000000\",\"id\":5113,\"legal_name\":\"Alejandra Pruebas Sandbox UAT\",\"presigned_personal_data_auth\":{\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6Mzc1LCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvYXV0b3JpemFjaW9uLWFkbWluaXN0cmFjaW9uLWRhdG9zLXBlcnNvbmFsZXMucGRmIiwiZmlsZV9oYXNoIjoiOTVkYzcwN2M0M2UxYmViMDAwMDUyZDNkNWJhZThhMDAiLCJqaXQiOiIxNzM1MjM5MDgzLTM4MDE0IiwiZW1haWwiOiIifQ.PF6bKFqAyNJMK-NqMSzuPckYwcsE21jRFMlrqAdDD3A\",\"permalink\":\"https:\\\/\\\/wompi.com\\\/assets\\\/downloadble\\\/autorizacion-administracion-datos-personales.pdf\",\"type\":\"PERSONAL_DATA_AUTH\"},\"presigned_acceptance\":{\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6MjQzLCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvcmVnbGFtZW50by1Vc3Vhcmlvcy1Db2xvbWJpYS5wZGYiLCJmaWxlX2hhc2giOiJkMWVkMDI3NjhlNDEzZWEyMzFmNzAwMjc0N2Y0N2FhOSIsImppdCI6IjE3MzUyMzkwODMtNjMwODciLCJlbWFpbCI6IiIsImV4cCI6MTczNTI0MjY4M30.ty0M4cXsChgaeg1Jc8KZTgu8GnLPmj4FbQB4Hykky9Y\",\"permalink\":\"https:\\\/\\\/wompi.com\\\/assets\\\/downloadble\\\/reglamento-Usuarios-Colombia.pdf\",\"type\":\"END_USER_POLICY\"},\"email\":\"pruebasensandbox@yopmail.com\",\"accepted_currencies\":[\"COP\"],\"legal_id_type\":\"CC\"},\"meta\":{}}\n"},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":13,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":233500,"millis":0.2335,"status":"passed"},"step":{"line":14,"prefix":"And","index":3,"text":"match response.data.presigned_acceptance.acceptance_token == '#string'"}},{"result":{"nanos":130000,"millis":0.13,"status":"passed"},"step":{"line":15,"prefix":"And","index":4,"text":"match response.data.presigned_personal_data_auth.acceptance_token == '#string'"}}],"executorName":"main","line":10,"name":"Obtener tokens","description":"","durationMillis":543.0367,"startTime":1735239081307,"failed":false,"refId":"[1:10]","endTime":1735239081850,"exampleIndex":-1}],"callDepth":1,"name":"Obtener los tokens de aceptación","description":"","resultDate":"2024-12-26 01:51:22 p. m.","durationMillis":543.0367,"passedCount":1}]},{"result":{"nanos":344200,"millis":0.3442,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"def createSignature = Java.type('karate.utils.Generate')"}},{"result":{"nanos":210500,"millis":0.2105,"status":"passed"},"step":{"line":66,"prefix":"*","index":0,"text":"set bodyRequest.amount_in_cents = 150000"}},{"result":{"nanos":120800,"millis":0.1208,"status":"passed"},"step":{"line":67,"prefix":"*","index":1,"text":"set bodyRequest.currency = 'COP'"}},{"result":{"nanos":198800,"millis":0.1988,"status":"passed"},"step":{"line":68,"prefix":"*","index":2,"text":"set bodyRequest.customer_data = customerData.customer_data"}},{"result":{"nanos":175000,"millis":0.175,"status":"passed"},"step":{"line":69,"prefix":"*","index":3,"text":"set bodyRequest.payment_method = paymentMethod.BANCOLOMBIA_QR"}},{"result":{"nanos":543800,"millis":0.5438,"status":"passed"},"step":{"line":70,"prefix":"*","index":4,"text":"set bodyRequest.acceptance_token = tokens.response.data.presigned_acceptance.acceptance_token"}},{"result":{"nanos":440200,"millis":0.4402,"status":"passed"},"step":{"line":71,"prefix":"*","index":5,"text":"set bodyRequest.accept_personal_auth = tokens.response.data.presigned_personal_data_auth.acceptance_token"}},{"result":{"nanos":136000,"millis":0.136,"status":"passed"},"step":{"line":72,"prefix":"Given","index":6,"text":"path transactionPath"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":73,"prefix":"And","index":7,"text":"header Authorization = authToken"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":74,"prefix":"And","index":8,"text":"request bodyRequest"}},{"result":{"nanos":562272300,"millis":562.2723,"status":"passed"},"step":{"line":75,"prefix":"When","index":9,"text":"method POST"},"stepLog":"13:51:21.854 request:\n1 > POST https:\/\/api-sandbox.co.uat.wompi.dev\/v1\/transactions\n1 > Authorization: Bearer pub_stagtest_g2u0HQd3ZMh05hsSgTS2lUV8t3s4mOt7\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 1167\n1 > Host: api-sandbox.co.uat.wompi.dev\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/11.0.19)\n1 > Accept-Encoding: gzip,deflate\n{\"reference\":\"sk8-438k4-xmxm392-sn2n\",\"amount_in_cents\":150000,\"signature\":\"3d883ebbab56b15876b8d175456401ef0d8a616df84e9498b2fb38c006a2a58a\",\"acceptance_token\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6MjQzLCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvcmVnbGFtZW50by1Vc3Vhcmlvcy1Db2xvbWJpYS5wZGYiLCJmaWxlX2hhc2giOiJkMWVkMDI3NjhlNDEzZWEyMzFmNzAwMjc0N2Y0N2FhOSIsImppdCI6IjE3MzUyMzkwODMtNjMwODciLCJlbWFpbCI6IiIsImV4cCI6MTczNTI0MjY4M30.ty0M4cXsChgaeg1Jc8KZTgu8GnLPmj4FbQB4Hykky9Y\",\"customer_email\":\"example@wompi.co\",\"customer_data\":{\"legal_id\":\"1234567890\",\"full_name\":\"Juan Alfonso Pérez Rodríguez\",\"phone_number\":\"573307654321\",\"legal_id_type\":\"CC\"},\"currency\":\"COP\",\"accept_personal_auth\":\"eyJhbGciOiJIUzI1NiJ9.eyJjb250cmFjdF9pZCI6Mzc1LCJwZXJtYWxpbmsiOiJodHRwczovL3dvbXBpLmNvbS9hc3NldHMvZG93bmxvYWRibGUvYXV0b3JpemFjaW9uLWFkbWluaXN0cmFjaW9uLWRhdG9zLXBlcnNvbmFsZXMucGRmIiwiZmlsZV9oYXNoIjoiOTVkYzcwN2M0M2UxYmViMDAwMDUyZDNkNWJhZThhMDAiLCJqaXQiOiIxNzM1MjM5MDgzLTM4MDE0IiwiZW1haWwiOiIifQ.PF6bKFqAyNJMK-NqMSzuPckYwcsE21jRFMlrqAdDD3A\",\"payment_method\":{\"payment_description\":\"Pago a Tienda Wompi\",\"type\":\"BANCOLOMBIA_QR\",\"sandbox_status\":\"APPROVED\"}}\n\n13:51:22.414 response time in milliseconds: 560\n1 < 422\n1 < Content-Type: application\/json\n1 < Content-Length: 103\n1 < Connection: keep-alive\n1 < Date: Thu, 26 Dec 2024 18:51:23 GMT\n1 < vary: Origin\n1 < apigw-requestid: DabS1iGVIAMEZug=\n1 < X-Cache: Error from cloudfront\n1 < Via: 1.1 b3879c23ec3b402566708cfe9d0ddc18.cloudfront.net (CloudFront)\n1 < X-Amz-Cf-Pop: MIA3-C3\n1 < X-Amz-Cf-Id: KbGrfQSjM2iH5_-_r_4S_k43uB8PoWA0z2WKHH-eWxjPm5ahs2VYnQ==\n{\"error\":{\"messages\":{\"reference\":[\"La referencia ya ha sido usada\"]},\"type\":\"INPUT_VALIDATION_ERROR\"}}\n"},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":76,"prefix":"Then","index":10,"text":"status 422"}},{"result":{"nanos":225900,"millis":0.2259,"status":"passed"},"step":{"line":77,"prefix":"And","index":11,"text":"match response.error.type == 'INPUT_VALIDATION_ERROR'"}},{"result":{"nanos":480900,"millis":0.4809,"status":"passed"},"step":{"line":78,"prefix":"And","index":12,"text":"match response.error.messages.reference[0] == 'La referencia ya ha sido usada'"}}],"line":81,"description":"","durationMillis":1119.4538,"failed":false,"tags":["FailedTransaction"],"executorName":"main","name":"Transaccion fallida por 'La referencia ya ha sido usada'","startTime":1735239081291,"refId":"[3.1:81]","endTime":1735239082416,"exampleData":{"amount":"150000","currency":"'COP'","paymentMethod":"BANCOLOMBIA_QR","typeError":"'INPUT_VALIDATION_ERROR'","messagesError":"reference","description":"'La referencia ya ha sido usada'"},"exampleIndex":0}],"callDepth":0,"name":"Realizar una transaccion","description":"","resultDate":"2024-12-26 01:51:22 p. m.","durationMillis":2649.9859,"passedCount":2}